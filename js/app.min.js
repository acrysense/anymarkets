"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,r=new Array(t);o<t;o++)r[o]=e[o];return r}document.addEventListener("DOMContentLoaded",(function(){if(null!=e)var e;if(null!=t)var t;var o=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(o,"px")),window.addEventListener("resize",(function(){var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px"))}));var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400;e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.previousElementSibling.style.pointerEvents="none",window.setTimeout((function(){e.style.display="none",e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.previousElementSibling.style.pointerEvents="auto"}),t),e.parentNode.classList.remove("is--open")},a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400;e.style.removeProperty("display");var o=window.getComputedStyle(e).display;"none"===o&&(o="block"),e.style.display=o;var r=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=r+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.previousElementSibling.style.pointerEvents="none",window.setTimeout((function(){e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.previousElementSibling.style.pointerEvents="auto"}),t),e.parentNode.classList.add("is--open")},l=document.querySelectorAll("textarea");l&&l.forEach((function(e){e.style.height=e.setAttribute("style","height: "+e.scrollHeight+"px"),e.classList.add("auto"),e.addEventListener("input",(function(t){e.style.height="auto",e.style.height=e.scrollHeight+"px"}))}));var i,n=document.querySelectorAll(".js-select");n&&n.forEach((function(e){new SlimSelect({select:e,placeholder:e.dataset.placeholder})}));var c=document.querySelectorAll(".calendar-js");c&&(i=flatpickr(c,{showMonths:2,position:"bottom center",prevArrow:'<svg width="11" height="17" viewBox="0 0 11 17" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M7 12.5L4 8.5L7 4.5" stroke="#5B5CE3" stroke-width="2" stroke-linecap="round"/></svg>',nextArrow:'<svg width="11" height="17" viewBox="0 0 11 17" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4 4.5L7 8.5L4 12.5" stroke="#5B5CE3" stroke-width="2" stroke-linecap="round"/></svg>',locale:"ru",altFormat:"DD.MM.YYYY",mode:"range",onChange:function(e,t,o){if(e.length>1){var r=moment(e[0]),a=moment(e[1]);if(r.format("YYYY")!=a.format("YYYY"))var l=r.format("DD.MM.YY")+" - "+a.format("DD.MM.YY");else l=r.format("DD.MM")+" - "+a.format("DD.MM");$(".date_filter").attr("date-start",r.format("DD.MM.YYYY")),$(".date_filter").attr("date-end",a.format("DD.MM.YYYY")),$(".table_date_title").text(l),$(".dashboard_datepicker_item").removeClass("is--active"),$(".calendar-js").parents("li").addClass("is--active"),getDashboardData()}}}),$(".dashboard_time_filter").on("click",(function(e){e.preventDefault();var t=$(this).attr("data-date-period"),o=moment();t&&(o=moment().startOf(t));var r=o,a=moment();$(this).text();!function(e,t,o,r){if($(".dashboard_datepicker_item").removeClass("is--active"),r.parents("li").addClass("is--active"),$(".date_filter").attr("date-start",e.format("DD.MM.YYYY")),$(".date_filter").attr("date-end",t.format("DD.MM.YYYY")),e.format("YYYY")!=t.format("YYYY"))var a=e.format("DD.MM.YYYY")+" - "+t.format("DD.MM.YYYY");else a=e.format("DD.MM")+" - "+t.format("DD.MM");$(".table_date_title").text(a),i.setDate([e.format("YYYY-MM-DD"),t.format("YYYY-MM-DD")],!1),getDashboardData()}(r,a,0,$(this))}))),e=function(e){new Noty({type:"success",killer:arguments.length>1&&void 0!==arguments[1]&&arguments[1],text:e}).show()},t=function(e){new Noty({type:"danger",killer:arguments.length>1&&void 0!==arguments[1]&&arguments[1],text:e}).show()};var s=document.querySelectorAll(".photo-upload__cropper img"),u=document.querySelectorAll(".photo-upload__control--lock"),d=document.querySelectorAll(".photo-upload__control--cut");s&&(s.forEach((function(e){new Cropper(e,{aspectRatio:5/6,crop:function(e){console.log(e.detail.x),console.log(e.detail.y),console.log(e.detail.width),console.log(e.detail.height),console.log(e.detail.rotate),console.log(e.detail.scaleX),console.log(e.detail.scaleY)}})})),u&&u.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var o=e.closest(".photo-upload__wrapper");o.querySelector(".photo-upload__control--lock").classList.contains("is--active")?o.querySelector(".photo-upload__control--lock").classList.remove("is--active"):o.querySelector(".photo-upload__control--lock").classList.add("is--active")}))})),d&&d.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var o=e.closest(".photo-upload__wrapper");o.querySelector(".photo-upload__control--cut").classList.contains("is--active")?o.querySelector(".photo-upload__control--cut").classList.remove("is--active"):o.querySelector(".photo-upload__control--cut").classList.add("is--active")}))})));var p=!1;!function(){if("undefined"!=typeof jQuery&&void 0!==$.fn.select2){var e=[].slice.call(document.querySelectorAll('[data-control="select2"], [data-kt-select2="true"]'));$.fn.select2.defaults.set("language",{errorLoading:function(){return"Результат не может быть загружен."},inputTooLong:function(e){var t=e.input.length-e.maximum,o="Пожалуйста, удалите "+t+" символ";return t>=2&&t<=4?o+="а":t>=5&&(o+="ов"),o},inputTooShort:function(e){return"Пожалуйста, введите "+(e.minimum-e.input.length)+" или более символов"},loadingMore:function(){return"Загружаем ещё ресурсы…"},maximumSelected:function(e){var t="Вы можете выбрать "+e.maximum+" элемент";return e.maximum>=2&&e.maximum<=4?t+="а":e.maximum>=5&&(t+="ов"),t},noResults:function(){return"Ничего не найдено"},searching:function(){return"Поиск…"}}),e.map((function(e){var t={dir:document.body.getAttribute("direction"),language:"ru"};if(e.getAttribute("data-ajax")){var o,r,a,l;t={placeholder:null!==(o=e.getAttribute("data-placeholder"))&&void 0!==o?o:"Введите запрос",tags:null!==(r=e.getAttribute("data-tags"))&&void 0!==r&&r,allowClear:null!==(a=e.getAttribute("data-allow-clear"))&&void 0!==a&&a,minimumInputLength:null!==(l=e.getAttribute("data-minimal-input"))&&void 0!==l?l:0,language:"ru",theme:"anymarkets",ajax:{url:e.getAttribute("data-ajax"),dataType:"json",delay:250,data:function(e){return{q:e.term,page:e.page}},processResults:function(e){return $.each(e.items,(function(t,o){e.items[t].text=o.title,e.items[t].id=o.id})),{results:e.items}},cache:!0}}}"true"==e.getAttribute("data-hide-search")&&(t.minimumResultsForSearch=1/0),$(e).select2(t)})),!1===p&&(p=!0,$(document).on("select2:open",(function(e){var t=document.querySelectorAll(".select2-container--open .select2-search__field");t.length>0&&t[t.length-1].focus()})))}}();var m=document.querySelectorAll(".tabs__list:not(.not--tabs) .tabs__item"),v=document.querySelectorAll(".photo-upload__item:not(.photo-upload__item--label)");m&&m.forEach((function(e,t){e.addEventListener("click",(function(){var t=e.closest(".tabs");t.querySelectorAll(".tabs__list:not(.not--tabs) .tabs__item").forEach((function(e){return e.classList.remove("is--active")})),t.querySelectorAll(".tabs__wrapper").forEach((function(e){return e.classList.remove("is--active")})),e.classList.add("is--active");var o=t.querySelector(".tabs__list:not(.not--tabs) .tabs__item.is--active"),r=_toConsumableArray(t.querySelectorAll(".tabs__list:not(.not--tabs) .tabs__item")).indexOf(o);t.querySelectorAll(".tabs__wrapper")[r].classList.add("is--active")}))})),v&&v.forEach((function(e,t){e.addEventListener("click",(function(){var t=e.closest(".photo-upload");t.querySelectorAll(".photo-upload__item").forEach((function(e){return e.classList.remove("is--active")})),t.querySelectorAll(".photo-upload__wrapper").forEach((function(e){return e.classList.remove("is--active")})),e.classList.add("is--active");var o=t.querySelector(".photo-upload__item.is--active"),r=_toConsumableArray(t.querySelectorAll(".photo-upload__item")).indexOf(o);t.querySelectorAll(".photo-upload__wrapper")[r].classList.add("is--active")}))}));var y=document.querySelector(".c-referal__copy");y&&y.addEventListener("click",(function(e){e.preventDefault();var t=y.closest(".c-referal"),o=t.querySelector(".c-referal__value").dataset.referalValue,r=t.querySelector(".c-referal__message");navigator.clipboard.writeText(o).then((function(){t.classList.add("is--copied"),r.innerHTML="Ссылка скопирована ",setTimeout((function(){t.classList.remove("is--copied")}),2500)})).catch((function(e){t.classList.add("is--copied"),r.innerHTML="Ошибка при копировании текста: "+e,setTimeout((function(){t.classList.remove("is--copied")}),2500)}))}));var f=document.querySelectorAll(".input-field__dropdown .input-field__input");f&&f.forEach((function(e){e.addEventListener("input",(function(){var t=e.closest(".input-field__dropdown");e.value.length>0?t.classList.add("is--active"):t.classList.remove("is--active")})),e.addEventListener("blur",(function(){e.closest(".input-field__dropdown").classList.remove("is--active")}))}));var h=document.querySelectorAll(".marketplaces__trigger .switch__input");h&&h.forEach((function(e){var t=e.closest(".marketplaces__item");!0===e.checked&&null!=t&&a(t.querySelector(".marketplaces__wrap")),e.addEventListener("change",(function(){null!=t&&(!0===e.checked?a(t.querySelector(".marketplaces__wrap")):r(t.querySelector(".marketplaces__wrap")))}))}));var _=document.querySelectorAll(".c-table__checkbox--all"),g=document.querySelectorAll(".c-table__checkbox:not(.c-table__checkbox--all)");_&&_.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var o=e.closest(".c-table"),r=e.querySelector("input[type=checkbox]");!0===r.checked?(r.checked=!1,o.querySelectorAll(".c-table__checkbox:not(.c-table__checkbox--all)").forEach((function(e){e.querySelector("input[type=checkbox]").checked=!1,e.closest(".c-table__row").classList.remove("is--active")}))):(r.checked=!0,o.querySelectorAll(".c-table__checkbox:not(.c-table__checkbox--all)").forEach((function(e){e.querySelector("input[type=checkbox]").checked=!0,e.closest(".c-table__row").classList.add("is--active")})))}))})),g&&g.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault(),!0===e.querySelector("input[type=checkbox]").checked?(e.querySelector("input[type=checkbox]").checked=!1,e.closest(".c-table__row").classList.remove("is--active")):(e.querySelector("input[type=checkbox]").checked=!0,e.closest(".c-table__row").classList.add("is--active"))}))}));var b=document.querySelectorAll(".c-controls__btn--delete"),S=document.querySelectorAll(".c-controls__button--cancel");b&&b.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var o=e.closest(".c-controls__elem");o.classList.contains("is--active")?o.classList.remove("is--active"):o.classList.add("is--active")}))})),S&&S.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var o=e.closest(".c-controls__elem");o.classList.contains("is--active")?o.classList.remove("is--active"):o.classList.add("is--active")}))}));var L=document.querySelectorAll(".visibility-group__checkbox");L&&L.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var o=e.closest(".visibility-group"),l=e.querySelector("input[type=checkbox]");!1===l.checked?(l.checked=!0,a(o.querySelector(".visibility-group__wrapper"))):(l.checked=!1,r(o.querySelector(".visibility-group__wrapper")))}))}));var k=document.getElementById("chart");k&&(chart=new ApexCharts(k,{series:[],chart:{height:390,fontFamily:"inherit",type:"area",toolbar:{show:!1}},colors:["#7F7DDE","#DD8A85"],dataLabels:{enabled:!1},stroke:{curve:"smooth"},xaxis:{},yaxis:{},tooltip:{style:{fontSize:"12px"},y:{formatter:function(e){return e+" ₽"}}},fill:{type:"gradient",gradient:{opacityFrom:.7,opacityTo:0,stops:[0,100]}},grid:{position:"back",borderColor:"#F5F5FA",strokeDashArray:4},legend:{horizontalAlign:"left",itemMargin:{horizontal:0,vertical:5},onItemHover:{highlightDataSeries:!1}}}),chart.render());var A=document.querySelectorAll(".modal"),w=document.querySelectorAll(".modal-btn"),E=document.querySelectorAll(".modal__close"),q=document.querySelectorAll(".modal__overlay");A&&w&&E&&q&&(w.forEach((function(e,t){e.addEventListener("click",(function(t){t.preventDefault();var o=e.dataset.id;document.querySelectorAll(".modal.modal--active").forEach((function(e){return e.classList.remove("modal--active")})),document.getElementById(o).classList.add("modal--active"),document.body.classList.add("scroll-disabled")}))})),E.forEach((function(e){e.addEventListener("click",(function(){document.querySelectorAll(".modal.modal--active").forEach((function(e){return e.classList.remove("modal--active")})),document.body.classList.remove("scroll-disabled")}))})),q.forEach((function(e){e.addEventListener("click",(function(){document.querySelectorAll(".modal.modal--active").forEach((function(e){return e.classList.remove("modal--active")})),document.body.classList.remove("scroll-disabled")}))})))}));